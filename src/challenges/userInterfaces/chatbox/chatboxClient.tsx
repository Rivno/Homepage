'use client';

import { useState } from 'react';

import { ChatboxWindow } from './chatboxWindow';

import styles from './chatbox.module.css';

export function ChatboxClient() {
  const [isOpen, setIsOpen] = useState(true);

  const onClick = () => {
    setIsOpen((val) => !val);
  };

  return (
    <div className={styles.chatbox}>
      <button
        className={styles.btn_chatbox}
        onClick={onClick}
        aria-expanded={isOpen}
      >
        {isOpen ? (
          <svg viewBox="0 0 72 72">
            <path
              d="M53.678,61.824c-2.27,0-4.404-0.885-6.01-2.49L36,47.667L24.332,59.334c-1.604,1.605-3.739,2.49-6.01,2.49   s-4.404-0.885-6.01-2.49c-1.605-1.604-2.49-3.739-2.49-6.01c0-2.271,0.885-4.405,2.491-6.011l11.666-11.667l-10.96-10.961   c-1.605-1.604-2.49-3.739-2.49-6.01s0.885-4.405,2.49-6.01c1.605-1.605,3.739-2.49,6.011-2.49c2.271,0,4.405,0.885,6.01,2.49   L36,23.626l10.96-10.96c1.605-1.605,3.738-2.49,6.01-2.49s4.406,0.885,6.01,2.49c1.605,1.604,2.49,3.739,2.49,6.01   s-0.885,4.405-2.49,6.01L48.021,35.646l11.666,11.668c1.605,1.604,2.49,3.738,2.49,6.01c0,2.271-0.885,4.405-2.49,6.01   C58.084,60.939,55.949,61.824,53.678,61.824z M36,42.839c0.511,0,1.023,0.195,1.414,0.586l13.082,13.081   c0.852,0.851,1.98,1.318,3.182,1.318c1.203,0,2.332-0.468,3.182-1.318c0.852-0.851,1.318-1.98,1.318-3.182   c0-1.202-0.467-2.332-1.318-3.181l-13.08-13.083c-0.781-0.781-0.781-2.047,0-2.828l12.373-12.375   c0.852-0.851,1.318-1.979,1.318-3.182s-0.467-2.331-1.318-3.182c-0.85-0.851-1.98-1.318-3.182-1.318s-2.332,0.468-3.18,1.318   L37.414,27.868c-0.781,0.781-2.046,0.781-2.828,0L22.21,15.494c-0.85-0.851-1.979-1.318-3.181-1.318   c-1.202,0-2.332,0.468-3.182,1.318c-0.851,0.851-1.319,1.979-1.319,3.182s0.469,2.331,1.318,3.182l12.374,12.375   c0.781,0.781,0.781,2.047,0,2.828L15.14,50.143c-0.85,0.85-1.318,1.979-1.318,3.182c0,1.201,0.469,2.331,1.318,3.182   c0.851,0.851,1.98,1.318,3.182,1.318c1.202,0,2.332-0.468,3.182-1.318l13.083-13.081C34.977,43.034,35.489,42.839,36,42.839z"
              fill="currentColor"
            />
          </svg>
        ) : (
          <svg fill="currentColor" viewBox="0 0 72 72">
            <path d="M27.869,68.25c-0.321,0-0.643-0.078-0.937-0.234c-0.671-0.355-1.083-1.061-1.063-1.818l0.195-7.447h-5.015    c-3.822,0-6.551-3.15-6.551-7.021V25.593c0-3.773,2.729-6.843,6.551-6.843h40.137c3.822,0,7.313,3.069,7.313,6.843v26.136    c0,3.871-3.49,7.021-7.313,7.021H41.762l-12.728,9.125C28.688,68.124,28.279,68.25,27.869,68.25z M21.051,22.75    c-1.644,0-2.551,1.249-2.551,2.843v26.136c0,1.639,0.962,3.021,2.551,3.021h7.068c0.54,0,1.057,0.217,1.433,0.604    c0.377,0.387,0.581,0.91,0.566,1.449l-0.144,5.477l9.979-7.154c0.34-0.244,0.747-0.375,1.165-0.375h20.068    c1.589,0,3.313-1.383,3.313-3.021V25.593c0-1.594-1.669-2.843-3.313-2.843H21.051z" />
            <path d="M6.68,42.151c-0.472,0-0.754-0.166-1.135-0.504C4.082,40.352,3.5,38.651,3.5,36.729V10.593    c0-3.773,2.729-6.843,6.551-6.843h40.137c3.822,0,7.313,3.069,7.313,6.843v1.157c0,1.104-0.896,2-2,2s-2-0.896-2-2v-1.157    c0-1.594-1.669-2.843-3.313-2.843H10.051C8.407,7.75,7.5,8.999,7.5,10.593v26.136c0,0.766,0.1,1.395,0.697,1.924    c0.827,0.732,0.809,1.998,0.076,2.824C7.877,41.922,7.232,42.151,6.68,42.151z" />
            <path d="M34.119,31.75h-8c-0.553,0-1-0.447-1-1s0.447-1,1-1h8c0.553,0,1,0.447,1,1S34.672,31.75,34.119,31.75z" />
            <path d="M48.119,31.75h-10c-0.553,0-1-0.447-1-1s0.447-1,1-1h10c0.553,0,1,0.447,1,1S48.672,31.75,48.119,31.75z" />
            <path d="M56.119,31.75h-4c-0.553,0-1-0.447-1-1s0.447-1,1-1h4c0.553,0,1,0.447,1,1S56.672,31.75,56.119,31.75z" />
            <path d="M30.119,36.75h-4c-0.553,0-1-0.448-1-1s0.447-1,1-1h4c0.553,0,1,0.447,1,1S30.672,36.75,30.119,36.75z" />
            <path d="M42.119,36.75h-8c-0.553,0-1-0.448-1-1s0.447-1,1-1h8c0.553,0,1,0.447,1,1S42.672,36.75,42.119,36.75z" />
            <path d="M56.119,36.75h-10c-0.553,0-1-0.448-1-1s0.447-1,1-1h10c0.553,0,1,0.447,1,1S56.672,36.75,56.119,36.75z" />
            <path d="M36.119,42.75h-10c-0.553,0-1-0.447-1-1s0.447-1,1-1h10c0.553,0,1,0.447,1,1S36.672,42.75,36.119,42.75z" />
            <path d="M50.119,42.75h-10c-0.553,0-1-0.447-1-1s0.447-1,1-1h10c0.553,0,1,0.447,1,1S50.672,42.75,50.119,42.75z" />
            <path d="M56.119,42.75h-2c-0.553,0-1-0.447-1-1s0.447-1,1-1h2c0.553,0,1,0.447,1,1S56.672,42.75,56.119,42.75z" />
            <path d="M30.119,47.75h-4c-0.553,0-1-0.447-1-1s0.447-1,1-1h4c0.553,0,1,0.447,1,1S30.672,47.75,30.119,47.75z" />
            <path d="M41.119,47.75h-7c-0.553,0-1-0.447-1-1s0.447-1,1-1h7c0.553,0,1,0.447,1,1S41.672,47.75,41.119,47.75z" />
          </svg>
        )}
      </button>
      <ChatboxWindow />
    </div>
  );
}
